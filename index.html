<!doctype html>
<html lang="it">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Fenice ‚Ä¢ Home</title>
<link rel="manifest" href="manifest.webmanifest">
<meta name="theme-color" content="#0b0e19">
<link rel="icon" sizes="192x192" href="icon-192.png">
<link rel="apple-touch-icon" href="icon-192.png">
<style>
:root{--bg:#0f1320;--panel:#12182a;--ink:#e9eef7;--ink2:#9bb0d0;--line:#2c3550;--tab:#1a2033}
*{box-sizing:border-box}body{margin:0;background:var(--bg);color:var(--ink);font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,'Helvetica Neue',Arial,sans-serif}
header{position:sticky;top:0;z-index:50;background:#0b0e19;border-bottom:1px solid var(--line);padding:12px 16px;display:flex;align-items:center;gap:12px}
h1{font-size:18px;margin:0}.container{max-width:960px;margin:0 auto;padding:16px}
.grid{display:grid;gap:12px;grid-template-columns:repeat(3,1fr)}@media(max-width:900px){.grid{grid-template-columns:1fr}}
.card{background:var(--panel);border:1px solid var(--line);border-radius:16px;padding:16px}
.card h2{margin:0 0 8px 0;font-size:18px}
.btn{display:inline-block;margin-top:10px;padding:10px 12px;border:1px solid var(--line);border-radius:10px;text-decoration:none;color:var(--ink);background:#1a2033}
.small{color:var(--ink2);font-size:12px}
.notice{background:#101424;border-left:4px solid #3b82f6;padding:10px 12px;border-radius:8px;margin-bottom:12px}
.footer{opacity:.8;color:var(--ink2);font-size:12px;text-align:center;padding:16px}
.badge{font-size:12px;border:1px solid var(--line);border-radius:999px;padding:2px 8px;opacity:.9}
</style>
</head>
<body>
<header>
  <h1>Fenice ‚Äî Home</h1>
  <span class="badge" id="swStatus">PWA</span>
</header>
<div class="container">
  <div class="notice" id="offlineMsg" style="display:none">Sei offline. Alcuni contenuti potrebbero non aggiornarsi.</div>
  <div class="grid">
    <section class="card">
      <h2>üìÖ Piano 12 settimane (ALL‚ÄëIN‚ÄëONE)</h2>
      <p>Dieta + Allenamento + Galleria esercizi con <b>foto CC</b> e video.</p>
      <a class="btn" href="fenice_diet_training_12w_all_ccapi.html">Apri il piano</a>
      <p class="small">Se non si apre, verifica che il file sia stato caricato nella stessa cartella.</p>
    </section>
    <section class="card">
      <h2>üóìÔ∏è Calendari (.ics)</h2>
      <p>Importa o <b>sottoscrivi</b> i calendari per averli sempre aggiornati.</p>
      <p class="small">Carica in root: Fenice_Work.ics, Fenice_Training.ics, Fenice_Study.ics, Fenice_Classes.ics, Fenice_Internship.ics</p>
    </section>
    <section class="card">
      <h2>‚öôÔ∏è Strumenti</h2>
      <a class="btn" href="#!" onclick="openTimer()">Timer Studio/Allenamento</a>
      <a class="btn" href="#!" onclick="refreshApp()">Forza aggiornamento</a>
      <p class="small">Timer Pomodoro 50/10 e 90' allenamento.</p>
    </section>
  </div>
</div>
<div class="footer">¬© Fenice ‚Äî PWA offline.</div>
<script>
if('serviceWorker' in navigator){
  navigator.serviceWorker.register('sw.js').then(reg=>{
    document.getElementById('swStatus').textContent='PWA ‚úì';
  }).catch(()=> document.getElementById('swStatus').textContent='PWA');
}
function refreshApp(){if('serviceWorker' in navigator){caches.keys().then(keys=>Promise.all(keys.map(k=>caches.delete(k)))).finally(()=>location.reload(true));}else{location.reload(true);}}
function openTimer(){const w=window.open('','_blank');w.document.write(`<!doctype html><meta charset='utf-8'><title>Fenice ‚Ä¢ Timer</title>
<style>body{font-family:system-ui,Segoe UI,Roboto,sans-serif;background:#0f1320;color:#e9eef7;display:flex;align-items:center;justify-content:center;height:100vh;margin:0}.card{background:#12182a;border:1px solid #2c3550;border-radius:16px;padding:20px;text-align:center;min-width:260px}button{padding:8px 12px;border:1px solid #2c3550;background:#1a2033;color:#e9eef7;border-radius:10px;margin:6px}#t{font-size:42px;margin:10px}</style>
<div class='card'><h2>Timer</h2><div><button onclick='start(50*60)'>Studio 50'</button><button onclick='start(10*60)'>Pausa 10'</button><button onclick='start(90*60)'>Allenamento 90'</button><button onclick='start(5*60)'>Rest 5'</button></div><div id='t'>00:00</div><audio id='ding'><source src='data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEAESsAACJWAAACABAAZGF0YQAAAAA=' type='audio/wav'></audio><div><button onclick='stop()'>Stop</button></div></div>
<script>let intv=0,remain=0;function fmt(s){const m=String(Math.floor(s/60)).padStart(2,'0');const ss=String(s%60).padStart(2,'0');return m+':'+ss}function tick(){remain--;document.getElementById('t').textContent=fmt(remain);if(remain<=0){clearInterval(intv);document.getElementById('ding').play();}}function start(sec){clearInterval(intv);remain=sec;document.getElementById('t').textContent=fmt(remain);intv=setInterval(tick,1000)}function stop(){clearInterval(intv);}</script>`);w.document.close();}
if(!navigator.onLine){document.getElementById('offlineMsg').style.display='block';}
</script>
</body>
</html>
